{"remainingRequest":"D:\\webStormFile\\vue2\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\webStormFile\\vue2\\supermall\\src\\store\\actions.js","dependencies":[{"path":"D:\\webStormFile\\vue2\\supermall\\src\\store\\actions.js","mtime":1596898970000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICIuL211dGF0aW9uLXR5cGVzIjsKZXhwb3J0IGRlZmF1bHQgewogIC8vIOi/memHjOeahGNvbnRleHTmjIfnmoTmmK9zdG9yZQogIGFkZENhcnQ6IGZ1bmN0aW9uIGFkZENhcnQoY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgLy8g566t5aS05Ye95pWw566A5YaZCiAgICAgIHZhciBwcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZDsKICAgICAgfSk7IC8vIOWIpOaWreaDheWGte+8jOaIkeS7rOWPqumcgOimgee7meaXp+eahOWVhuWTgemHjOmdoueahGNvdW505bGe5oCn5re75YqgMQoKICAgICAgaWYgKHByb2R1Y3QpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdChBRERfQ09VTlRFUiwgcHJvZHVjdCk7CiAgICAgICAgcmVzb2x2ZSgn5ZWG5ZOB5pWw6YeP5YqgKzEnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzov5nkuKrllYblk4HmmK/nrKzkuIDmrKHliqDlhaXotK3nianovabvvIzpu5jorqTnu5nllYblk4HnmoRjb3VudOWxnuaAp+i1i+WAvDHvvIznhLblkI7mt7vliqDliLDotK3nianovaYKICAgICAgICBwYXlsb2FkLmNvdW50ID0gMTsKICAgICAgICBjb250ZXh0LmNvbW1pdChBRERfVE9fQ0FSVCwgcGF5bG9hZCk7CiAgICAgICAgcmVzb2x2ZSgn5re75Yqg5paw55qE5ZWG5ZOBJyk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["D:/webStormFile/vue2/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","resolve","reject","product","state","cartList","find","item","iid","commit","count"],"mappings":";;AAAA,SACEA,WADF,EAEEC,WAFF,QAGO,kBAHP;AAKA,eAAe;AACb;AACAC,EAAAA,OAFa,mBAEJC,OAFI,EAEIC,OAFJ,EAEa;AACxB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACnC;AACA,UAAIC,OAAO,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,OAAO,CAACS,GAAzB;AAAA,OAAhC,CAAd,CAFmC,CAGnC;;AACA,UAAIL,OAAJ,EAAY;AACVL,QAAAA,OAAO,CAACW,MAAR,CAAed,WAAf,EAA2BQ,OAA3B;AACAF,QAAAA,OAAO,CAAC,SAAD,CAAP;AACD,OAHD,MAGO;AACL;AACAF,QAAAA,OAAO,CAACW,KAAR,GAAgB,CAAhB;AACAZ,QAAAA,OAAO,CAACW,MAAR,CAAeb,WAAf,EAA2BG,OAA3B;AACAE,QAAAA,OAAO,CAAC,QAAD,CAAP;AACD;AACF,KAbM,CAAP;AAcD;AAjBY,CAAf","sourcesContent":["import {\r\n  ADD_COUNTER,\r\n  ADD_TO_CART\r\n} from \"./mutation-types\";\r\n\r\nexport default {\r\n  // 这里的context指的是store\r\n  addCart (context,payload) {\r\n    return new Promise((resolve,reject)=>{\r\n      // 箭头函数简写\r\n      let product = context.state.cartList.find(item => item.iid === payload.iid)\r\n      // 判断情况，我们只需要给旧的商品里面的count属性添加1\r\n      if (product){\r\n        context.commit(ADD_COUNTER,product)\r\n        resolve('商品数量加+1')\r\n      } else {\r\n        // 如果这个商品是第一次加入购物车，默认给商品的count属性赋值1，然后添加到购物车\r\n        payload.count = 1\r\n        context.commit(ADD_TO_CART,payload)\r\n        resolve('添加新的商品')\r\n      }\r\n    })\r\n  }\r\n}"]}]}