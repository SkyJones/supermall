{"remainingRequest":"D:\\webStormFile\\vue2\\supermall\\node_modules\\babel-loader\\lib\\index.js!D:\\webStormFile\\vue2\\supermall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webStormFile\\vue2\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webStormFile\\vue2\\supermall\\src\\components\\common\\scroll\\scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webStormFile\\vue2\\supermall\\src\\components\\common\\scroll\\scroll.vue","mtime":1596766118000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStormFile\\vue2\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJTIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNjcm9sbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjcm9sbHM6IG51bGwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgcHJvYmVUeXBlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHB1bGxVcExvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIOWIm+W7unNjcm9sbHPlr7nosaEgIOi/memHjOS4jeimgeS9v+eUqHF1ZXJ5c2VsZWN05ou/ZG9t6IqC54K5CiAgICB0aGlzLnNjcm9sbHMgPSBuZXcgQlModGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgIC8vIOiuvue9ruS4unRydWXvvIzph4zpnaLnmoRkaXblhYPntKDmiY3og73lj5HnlJ/ngrnlh7vkuovku7YKICAgICAgY2xpY2s6IHRydWUsCiAgICAgIC8vIOmAmui/h+eItuWFg+e0oOS8oOWFpeeahOaDheWGteiuvue9ruaYr+WQpuimgeebkeWQrAogICAgICBwcm9iZVR5cGU6IHRoaXMucHJvYmVUeXBlLAogICAgICAvLyDkuIrmi4nliqDovb3mm7TlpJoKICAgICAgcHVsbFVwTG9hZDogdGhpcy5wdWxsVXBMb2FkCiAgICB9KTsgLy8g55uR5ZCs5rua5Yqo5LqL5Lu2CgogICAgaWYgKHRoaXMucHJvYmVUeXBlID09IDIgfHwgdGhpcy5wcm9iZVR5cGUgPT0gMykgewogICAgICB0aGlzLnNjcm9sbHMub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgIF90aGlzLiRlbWl0KCdzY3JvbGwnLCBwb3NpdGlvbik7CiAgICAgIH0pOwogICAgfSAvLyDnm5HlkKzliLDmu5rliLDlupXpg6gKCgogICAgaWYgKHRoaXMucHVsbFVwTG9hZCkgewogICAgICB0aGlzLnNjcm9sbHMub24oJ3B1bGxpbmdVcCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZW1pdCgncHVsbGluZ1VwJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L+U5Zue6aG26YOoCiAgICBzY3JvbGxUb3M6IGZ1bmN0aW9uIHNjcm9sbFRvcyh4LCB5KSB7CiAgICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDAwOwogICAgICB0aGlzLnNjcm9sbHMgJiYgdGhpcy5zY3JvbGxzLnNjcm9sbFRvKHgsIHksIHRpbWUpOwogICAgfSwKICAgIC8vIOWkmuasoeS4iuaLieWKoOi9veabtOWkmgogICAgZmluaXNoUHVsbFVwOiBmdW5jdGlvbiBmaW5pc2hQdWxsVXAoKSB7CiAgICAgIHRoaXMuc2Nyb2xscy5maW5pc2hQdWxsVXAoKTsKICAgIH0sCiAgICAvLyDliLfmlrBzY3JvbGznmoTmlrnms5XvvIzkvJrku47mlrDorqHnrpdzY3JvbGznmoRoZWlnaHQKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIC8vIOS/neivgeaYr+WcqOacieWAvOeahOaDheWGteS4i+iwg+eUqOaWueazlQogICAgICAvLyBjb25zb2xlLmxvZygnLS0tLS0tJyk7CiAgICAgIHRoaXMuc2Nyb2xscyAmJiB0aGlzLnNjcm9sbHMucmVmcmVzaCgpOwogICAgfSwKICAgIC8vIOaLv+WIsOmmlumhtXnlgLwKICAgIGdldFNjcm9sbFk6IGZ1bmN0aW9uIGdldFNjcm9sbFkoKSB7CiAgICAgIHJldHVybiB0aGlzLnNjcm9sbHMgPyB0aGlzLnNjcm9sbHMueSA6IDA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;;;AASA,OAAA,EAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAPA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA;AACA,SAAA,OAAA,GAAA,IAAA,EAAA,CAAA,KAAA,KAAA,CAAA,OAAA,EAAA;AACA;AACA,MAAA,KAAA,EAAA,IAFA;AAGA;AACA,MAAA,SAAA,EAAA,KAAA,SAJA;AAKA;AACA,MAAA,UAAA,EAAA,KAAA;AANA,KAAA,CAAA,CAFA,CAWA;;AACA,QAAA,KAAA,SAAA,IAAA,CAAA,IAAA,KAAA,SAAA,IAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,QAAA,EAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,OAFA;AAGA,KAhBA,CAkBA;;;AACA,QAAA,KAAA,UAAA,EAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,WAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,WAAA;AACA,OAFA;AAGA;AACA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,CAFA,EAEA,CAFA,EAEA;AAAA,UAAA,IAAA,uEAAA,IAAA;AACA,WAAA,OAAA,IAAA,KAAA,OAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AACA,KAJA;AAMA;AACA,IAAA,YAPA,0BAOA;AACA,WAAA,OAAA,CAAA,YAAA;AACA,KATA;AAWA;AACA,IAAA,OAZA,qBAYA;AACA;AACA;AACA,WAAA,OAAA,IAAA,KAAA,OAAA,CAAA,OAAA,EAAA;AACA,KAhBA;AAiBA;AACA,IAAA,UAlBA,wBAkBA;AACA,aAAA,KAAA,OAAA,GAAA,KAAA,OAAA,CAAA,CAAA,GAAA,CAAA;AACA;AApBA;AA1CA,CAAA","sourcesContent":["<template>\r\n  <div class=\"wrapper\" ref=\"wrapper\">\r\n    <div class=\"content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BS from 'better-scroll'\r\n\r\n  export default {\r\n    name: \"scroll\",\r\n    data(){\r\n      return{\r\n        scrolls: null\r\n      }\r\n    },\r\n    props:{\r\n      probeType:{\r\n        type:Number,\r\n        default:0\r\n      },\r\n      pullUpLoad:{\r\n        type:Boolean,\r\n        default:false\r\n      }\r\n    },\r\n    mounted() {\r\n      // 创建scrolls对象  这里不要使用queryselect拿dom节点\r\n      this.scrolls = new BS(this.$refs.wrapper,{\r\n        // 设置为true，里面的div元素才能发生点击事件\r\n        click:true,\r\n        // 通过父元素传入的情况设置是否要监听\r\n        probeType:this.probeType,\r\n        // 上拉加载更多\r\n        pullUpLoad:this.pullUpLoad\r\n      })\r\n\r\n      // 监听滚动事件\r\n      if (this.probeType == 2 || this.probeType == 3){\r\n        this.scrolls.on('scroll',(position)=>{\r\n          this.$emit('scroll',position)\r\n        })\r\n      }\r\n\r\n      // 监听到滚到底部\r\n      if (this.pullUpLoad){\r\n        this.scrolls.on('pullingUp',()=>{\r\n          this.$emit('pullingUp')\r\n        })\r\n      }\r\n    },\r\n    methods:{\r\n      // 返回顶部\r\n      scrollTos(x,y,time=1000){\r\n        this.scrolls && this.scrolls.scrollTo(x, y, time)\r\n      },\r\n\r\n      // 多次上拉加载更多\r\n      finishPullUp(){\r\n       this.scrolls.finishPullUp()\r\n      },\r\n\r\n      // 刷新scroll的方法，会从新计算scroll的height\r\n      refresh(){\r\n        // 保证是在有值的情况下调用方法\r\n        // console.log('------');\r\n        this.scrolls && this.scrolls.refresh()\r\n      },\r\n      // 拿到首页y值\r\n      getScrollY(){\r\n        return this.scrolls ? this.scrolls.y :0\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/common/scroll"}]}